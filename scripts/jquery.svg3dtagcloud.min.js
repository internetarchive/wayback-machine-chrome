!function(){window.SVG3DTagCloud=function(t,e){var n={entries:[],width:480,height:480,radius:"70%",radiusMin:75,bgDraw:!0,bgColor:"#000",opacityOver:1,opacityOut:.05,opacitySpeed:6,fov:800,speed:2,fontFamily:"Arial, sans-serif",fontSize:"15",fontColor:"#fff",fontWeight:"normal",fontStyle:"normal",fontStretch:"normal",fontToUpperCase:!1};if(void 0!==e)for(var i in e)e.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(n[i]=e[i]);if(!n.entries.length)return!1;var o,r,s,a,c,u=[],d=!0,l={x:0,y:0},h={x:0,y:0,z:0},f={x:0,y:0},v={sx:0,cx:0,sy:0,cy:0},m=Math.PI/180,y="http://www.w3.org/2000/svg";function p(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;n.width.toString().indexOf("%")>0||n.height.toString().indexOf("%")>0?(e=Math.round(t.offsetWidth/100*parseInt(n.width)),i=Math.round(e/100*parseInt(n.height))):(e=parseInt(n.width),i=parseInt(n.height)),s={x:e/2,y:i/2},f.x=n.speed/s.x,f.y=n.speed/s.y,(r=e>=i?i/100*parseInt(n.radius):e/100*parseInt(n.radius))<1&&(r=1),(o=r/2)<n.radiusMin&&(o=n.radiusMin,r=2*o),a.setAttribute("width",e),a.setAttribute("height",i),n.bgDraw&&(c.setAttribute("width",e),c.setAttribute("height",i)),function(t){for(var e=0,n=u.length;e<n;e++)g(u[e],t)}(o)}function g(t,e){var n=t.vectorPosition.x-h.x,i=t.vectorPosition.y-h.y,o=t.vectorPosition.z-h.z,r=Math.sqrt(n*n+i*i+o*o);t.vectorPosition.x/=r,t.vectorPosition.y/=r,t.vectorPosition.z/=r,t.vectorPosition.x*=e,t.vectorPosition.y*=e,t.vectorPosition.z*=e}function x(t,e,i,o,r){var s={};return s.element=document.createElementNS(y,"text"),s.element.setAttribute("x",0),s.element.setAttribute("y",0),s.element.setAttribute("fill",n.fontColor),s.element.setAttribute("font-family",n.fontFamily),s.element.setAttribute("font-size",n.fontSize*Math.sqrt(e.weight)),s.element.setAttribute("font-weight",n.fontWeight),s.element.setAttribute("font-style",n.fontStyle),s.element.setAttribute("font-stretch",n.fontStretch),s.element.setAttribute("text-anchor","middle"),s.element.textContent=n.fontToUpperCase?e.label.toUpperCase():e.label,s.link=document.createElementNS(y,"a"),s.link.addEventListener("mouseover",A,!0),s.link.addEventListener("mouseout",P,!0),s.link.appendChild(s.element),s.index=t,s.mouseOver=!1,s.vectorPosition={x:i,y:o,z:r},s.vector2D={x:0,y:0},a.appendChild(s.link),s}function w(t){for(var e=function(t){for(var e=0,n=u.length;e<n;e++){var i=u[e];if(i.element.getAttribute("x")===t.getAttribute("x")&&i.element.getAttribute("y")===t.getAttribute("y"))return i}}(t),n=0,i=u.length;n<i;n++){var o=u[n];o.index===e.index?o.mouseOver=!0:o.mouseOver=!1}}function b(){requestAnimFrame(b),function(){var t=f.x*l.x-n.speed,e=n.speed-f.y*l.y,i=t*m,a=e*m;v.sx=Math.sin(i),v.cx=Math.cos(i),v.sy=Math.sin(a),v.cy=Math.cos(a);for(var c=0,h=u.length;c<h;c++){var y=u[c];if(d){var p=y.vectorPosition.x,g=y.vectorPosition.y*v.sy+y.vectorPosition.z*v.cy;y.vectorPosition.x=p*v.cx+g*v.sx,y.vectorPosition.y=y.vectorPosition.y*v.cy+y.vectorPosition.z*-v.sy,y.vectorPosition.z=p*-v.sx+g*v.cx}var x,w=n.fov/(n.fov+y.vectorPosition.z);y.vector2D.x=y.vectorPosition.x*w+s.x,y.vector2D.y=y.vectorPosition.y*w+s.y,y.element.setAttribute("x",y.vector2D.x),y.element.setAttribute("y",y.vector2D.y),d?(x=(o-y.vectorPosition.z)/r)<n.opacityOut&&(x=n.opacityOut):(x=parseFloat(y.element.getAttribute("opacity")),y.mouseOver?x+=(n.opacityOver-x)/n.opacitySpeed:x+=(n.opacityOut-x)/n.opacitySpeed),y.element.setAttribute("opacity",x)}u=u.sort(function(t,e){return e.vectorPosition.z-t.vectorPosition.z})}()}function A(t){d=!1,w(t.target)}function P(t){d=!0}function M(t){l=function(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}(a,t)}function S(t){p()}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},(a=document.createElementNS(y,"svg")).addEventListener("mousemove",M),t.appendChild(a),n.bgDraw&&((c=document.createElementNS(y,"rect")).setAttribute("x",0),c.setAttribute("y",0),c.setAttribute("fill",n.bgColor),a.appendChild(c)),function(){for(var t=1,e=n.entries.length+1;t<e;t++){var i=Math.acos((2*t-1)/e-1),o=Math.sqrt(e*Math.PI)*i,r=Math.cos(o)*Math.sin(i),s=Math.sin(o)*Math.sin(i),a=Math.cos(i),c=x(t-1,n.entries[t-1],r,s,a);u.push(c)}}(),p(),b(),window.addEventListener("resize",S)}}(),"undefined"!=typeof jQuery&&function(t){t.fn.svg3DTagCloud=function(e){return this.each(function(){t.data(this,"plugin_SVG3DTagCloud")||t.data(this,"plugin_SVG3DTagCloud",new SVG3DTagCloud(this,e))})}}(jQuery);